<%
// 角色配置助手函数
global.roleConfig = {
  admin: {
    name: '管理员',
    alias: '管理员',
    icon: '⚡',
    color: 'danger'
  },
  product_manager: {
    name: '产品经理',
    alias: '产品经理',
    icon: '🔮',
    color: 'warning'
  },
  developer: {
    name: '开发者',
    alias: '开发者',
    icon: '⚔️',
    color: 'primary'
  },
  tester: {
    name: '测试员',
    alias: '测试员',
    icon: '🏹',
    color: 'info'
  },
  client: {
    name: '客户',
    alias: '客户',
    icon: '💎',
    color: 'secondary'
  },
  ui_designer: {
    name: 'UI设计师',
    alias: 'UI设计师',
    icon: '🔮',
    color: 'success'
  },
  devops: {
    name: '运维工程师',
    alias: '运维工程师',
    icon: '✨',
    color: 'dark'
  }
};

// 获取角色配置
global.getRoleConfig = function(role) {
  return global.roleConfig[role] || {
    name: '未知角色',
    alias: '未知角色',
    icon: '❓',
    color: 'secondary'
  };
};

// 获取角色显示名称
global.getRoleDisplayName = function(role, useAlias = true) {
  const config = global.getRoleConfig(role);
  return useAlias ? config.alias : config.name;
};

// 获取角色图标
global.getRoleIcon = function(role) {
  return global.getRoleConfig(role).icon;
};

// 获取角色颜色
global.getRoleColor = function(role) {
  return global.getRoleConfig(role).color;
};

// 渲染角色徽章
global.renderRoleBadge = function(role, useAlias = true) {
  const config = global.getRoleConfig(role);
  const displayName = useAlias ? config.alias : config.name;
  return `<span class="badge bg-${config.color}">${config.icon} ${displayName}</span>`;
};
%>
